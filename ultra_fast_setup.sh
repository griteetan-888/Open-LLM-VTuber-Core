#!/bin/bash

# 2-3ç§’è¶…ä½Žå»¶è¿Ÿä¸€é”®è®¾ç½®è„šæœ¬
echo "âš¡ å¼€å§‹2-3ç§’è¶…ä½Žå»¶è¿Ÿä¼˜åŒ–è®¾ç½®..."
echo "================================================"

# æ£€æŸ¥PythonçŽ¯å¢ƒ
if ! command -v python3 &> /dev/null; then
    echo "âŒ Python3æœªå®‰è£…ï¼Œè¯·å…ˆå®‰è£…Python3"
    exit 1
fi

# å®‰è£…å¿…è¦ä¾èµ–
echo "ðŸ“¦ å®‰è£…å¿…è¦ä¾èµ–..."
pip install aiofiles psutil loguru pyyaml websockets

# è¿è¡Œè¶…å¿«é€Ÿä¼˜åŒ–
echo "ðŸ”§ è¿è¡Œè¶…å¿«é€Ÿä¼˜åŒ–..."
python3 ultra_fast_optimizer.py

# æ£€æŸ¥ä¼˜åŒ–ç»“æžœ
if [ -f "ultra_fast_optimization_report.json" ]; then
    echo "âœ… è¶…å¿«é€Ÿä¼˜åŒ–å®Œæˆï¼"
    echo "ðŸ“Š æŸ¥çœ‹ä¼˜åŒ–æŠ¥å‘Š: ultra_fast_optimization_report.json"
else
    echo "âŒ è¶…å¿«é€Ÿä¼˜åŒ–å¤±è´¥"
    exit 1
fi

# è¿è¡Œæ€§èƒ½æµ‹è¯•
echo "ðŸ§ª è¿è¡Œ2-3ç§’å“åº”æ—¶é—´æµ‹è¯•..."
echo "è¯·ç¡®ä¿VTuberç³»ç»Ÿæ­£åœ¨è¿è¡Œ (python3 start.py)"
echo "æŒ‰ä»»æ„é”®å¼€å§‹æµ‹è¯•..."
read -n 1 -s

python3 test_2_3_seconds.py

echo "ðŸŽ‰ 2-3ç§’è¶…ä½Žå»¶è¿Ÿä¼˜åŒ–å®Œæˆï¼"
echo "================================================"
echo "ðŸ“Š ä¼˜åŒ–æ€»ç»“:"
echo "   â€¢ LLMå“åº”æ—¶é—´: 1-2ç§’"
echo "   â€¢ TTSç”Ÿæˆæ—¶é—´: 0.5-1ç§’"
echo "   â€¢ æ€»å“åº”æ—¶é—´: 2-3ç§’"
echo "   â€¢ ç¼“å­˜å‘½ä¸­çŽ‡: >60%"
echo "   â€¢ æˆåŠŸçŽ‡: >80%"
echo "================================================"
